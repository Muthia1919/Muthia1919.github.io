<!-- Tambahkan di akhir sebelum </body> -->
<script>
  function setSiteSettings(name, value) {
    let settings = getSiteSettings();
    settings[name] = value;
    document.cookie = "site_settings=" + JSON.stringify(settings) + "; path=/; max-age=" + (60 * 60 * 24 * 30);
  }

  function getSiteSettings() {
    const cookies = document.cookie.split("; ");
    const settingCookie = cookies.find(row => row.startsWith("site_settings="));
    if (settingCookie) {
      try {
        return JSON.parse(settingCookie.split("=")[1]);
      } catch {
        return {};
      }
    }
    return {};
  }

  function highlightLanguageButton(lang) {
    const btnId = document.querySelector('button[onclick="ubahBahasa(\'id\')"]');
    const btnEn = document.querySelector('button[onclick="ubahBahasa(\'en\')"]');
    btnId.classList.remove('active');
    btnEn.classList.remove('active');
    if (lang === 'en') btnEn.classList.add('active');
    else btnId.classList.add('active');
  }

  function ubahBahasa(bahasa) {
    setSiteSettings("bahasa", bahasa);
    tampilkanBahasa(bahasa);
    highlightLanguageButton(bahasa);
  }

  function tampilkanBahasa(bahasa) {
    if (bahasa === "en") {
      document.getElementById("judul").innerText = "My Short Profile";
      document.getElementById("biodata").innerText = "üìù Short Biography";
      document.getElementById("nama").innerText = "Name";
      document.getElementById("kelas").innerText = "Class";
      document.getElementById("prodi").innerText = "Study Program";
      document.getElementById("fakultas").innerText = "Faculty";
      document.getElementById("univ").innerText = "University";
      document.getElementById("prodiValue").innerText = "Library Science and Information Science";
      document.getElementById("fakultasValue").innerText = "Faculty of Cultural Sciences";
      document.getElementById("univValue").innerText = "University of North Sumatra";
      document.getElementById("prestasi").innerText = "üèÖ My Achievements";
    } else {
      document.getElementById("judul").innerText = "Profil Singkat Saya";
      document.getElementById("biodata").innerText = "üìù Biodata Singkat";
      document.getElementById("nama").innerText = "Nama";
      document.getElementById("kelas").innerText = "Kelas";
      document.getElementById("prodi").innerText = "Program Studi";
      document.getElementById("fakultas").innerText = "Fakultas";
      document.getElementById("univ").innerText = "Universitas";
      document.getElementById("prodiValue").innerText = "Ilmu Perpustakaan dan Sains Informasi";
      document.getElementById("fakultasValue").innerText = "Fakultas Ilmu Budaya";
      document.getElementById("univValue").innerText = "Universitas Sumatera Utara";
      document.getElementById("prestasi").innerText = "üèÖ Beberapa Prestasi Saya";
    }
  }

  window.onload = function () {
    const settings = getSiteSettings();

    if (!settings.nama) {
      const nama = prompt("Halo, siapa nama Anda?");
      if (nama) {
        setSiteSettings("nama", nama);
      }
    }

    const bahasa = settings.bahasa || "id";
    tampilkanBahasa(bahasa);
    highlightLanguageButton(bahasa);
  };
</script>

<style>
  .language-buttons button.active {
    background-color: #1d4ed8 !important;
    font-weight: bold;
    border: 2px solid #fff;
  }
</style>
