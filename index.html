<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Perpustakaan Muthia Sari</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0; padding: 0;
      background-color: #e3f2fd;
      color: #333;
      overflow-x: hidden;
    }

    nav {
      background-color: #1e3a8a;
      padding: 15px 0;
      text-align: center;
      position: relative;
    }

    .nav-links {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .nav-links li {
      display: inline-block;
      margin: 0 15px;
    }

    .nav-links li a {
      color: white;
      text-decoration: none;
      font-size: 18px;
      padding: 10px 15px;
      display: inline-block;
      transition: background 0.3s;
    }

    .nav-links li a:hover {
      background-color: #3b82f6;
      border-radius: 5px;
    }

    .hamburger {
      display: none;
      font-size: 24px;
      color: white;
      position: absolute;
      top: 15px;
      right: 20px;
      cursor: pointer;
      user-select: none;
    }

    .language-buttons {
      position: absolute;
      top: 12px;
      right: 20px;
    }

    .language-buttons button {
      margin: 0 2px;
      padding: 6px 10px;
      font-size: 14px;
      background-color: #3b82f6;
      border: none;
      border-radius: 4px;
      color: white;
      cursor: pointer;
    }

    .language-buttons button.active {
      background-color: #2563eb;
      font-weight: bold;
    }

    .language-buttons button:hover {
      background-color: #60a5fa;
    }

    .search-form {
      text-align: center;
      margin-top: 20px;
    }

    .search-form input[type="text"] {
      padding: 8px;
      font-size: 16px;
      border-radius: 4px;
      border: none;
      width: 250px;
      max-width: 80%;
    }

    .search-form button {
      padding: 8px 14px;
      font-size: 16px;
      background-color: #3b82f6;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      margin-left: 5px;
    }

    #hasilPencarian {
      margin-top: 20px;
      text-align: center;
      font-size: 18px;
    }

    header {
      background-color: #1e3a8a;
      color: #fff;
      padding: 40px 0;
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    /* ANIMASI: Teks Fade In */
    .fade-in {
      opacity: 0;
      animation: fadeIn 2s ease-out forwards;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* ANIMASI: Buku Jatuh */
    .buku-jatuh {
      position: fixed;
      top: -40px;
      font-size: 24px;
      animation: jatuh 5s linear infinite;
      pointer-events: none;
    }

    @keyframes jatuh {
      0% { transform: translateY(0); opacity: 1; }
      100% { transform: translateY(100vh); opacity: 0; }
    }

    h1 {
      font-size: 36px;
      font-weight: bold;
      margin-bottom: 10px;
    }

    main {
      padding: 50px;
      text-align: center;
    }

    main h2 {
      color: #1e3a8a;
    }

    main p {
      font-size: 18px;
      line-height: 1.6;
    }

    footer {
      background-color: #1e3a8a;
      color: #fff;
      text-align: center;
      padding: 20px;
    }

    @media screen and (max-width: 768px) {
      .nav-links {
        display: none;
        flex-direction: column;
        width: 100%;
        text-align: center;
        background-color: #1e3a8a;
        position: absolute;
        top: 55px;
        left: 0;
        z-index: 100;
      }

      .nav-links li {
        display: block;
        padding: 10px;
        margin: 0;
      }

      .hamburger {
        display: block;
      }

      header h1 {
        font-size: 32px;
      }

      main p {
        font-size: 16px;
      }

      .language-buttons {
        top: 55px;
        right: 20px;
      }
    }
  </style>
</head>
<body>

<!-- Navbar -->
<nav>
  <div class="hamburger" onclick="toggleMenu()">â˜°</div>
  <div class="language-buttons">
    <button id="btn-id" onclick="ubahBahasa('id')">ID</button>
    <button id="btn-en" onclick="ubahBahasa('en')">EN</button>
  </div>

  <ul class="nav-links" id="navMenu">
    <li><a href="index.html">Beranda</a></li>
    <li><a href="about-me.html">Tentang Saya</a></li>
    <li><a href="rekomendasi.html">Rekomendasi</a></li>
    <li><a href="contact.html">Kontak</a></li>
    <li><a href="Lainnya.html">Lainnya</a></li>
  </ul>
</nav>

<!-- Header -->
<header>
  <h1 class="fade-in">Perpustakaan Muthia Sari</h1>
  <form class="search-form" id="searchForm">
    <input type="text" id="globalSearch" placeholder="Cari...">
    <button type="submit">Cari</button>
  </form>
  <div id="hasilPencarian"></div>
</header>

<!-- Main -->
<main>
  <p id="teks1">Selamat datang di perpustakaan kami!</p>
  <p id="teks2">Temukan berbagai koleksi buku untuk mendukung pembelajaran Anda. Website ini berkolaborasi dengan Perpustakaan USU dengan tujuan meningkatkan layanan informasi, memperluas akses pengetahuan, dan memberikan manfaat yang lebih luas bagi masyarakat.</p>
  <p id="linkText"><a href="https://library.usu.ac.id/" target="_blank">Klik di sini untuk mengunjungi Perpustakaan USU</a></p>
</main>

<!-- Footer -->
<footer>
  <p>@2025 Perpustakaan Muthia Sari</p>
</footer>

<!-- Script -->
<script>
  function toggleMenu() {
    const nav = document.getElementById("navMenu");
    nav.style.display = nav.style.display === "block" ? "none" : "block";
  }

  function getSiteSettings() {
    const cookies = document.cookie.split("; ");
    const settingCookie = cookies.find(row => row.startsWith("site_settings="));
    if (settingCookie) {
      try {
        return JSON.parse(settingCookie.split("=")[1]);
      } catch {
        return {};
      }
    }
    return {};
  }

  function setSiteSettings(name, value) {
    const settings = getSiteSettings();
    settings[name] = value;
    document.cookie = "site_settings=" + JSON.stringify(settings) + ";path=/;max-age=" + (60 * 60 * 24 * 30);
  }

  function highlightLanguageButton(lang) {
    document.getElementById('btn-id').classList.remove('active');
    document.getElementById('btn-en').classList.remove('active');
    if (lang === 'en') {
      document.getElementById('btn-en').classList.add('active');
    } else {
      document.getElementById('btn-id').classList.add('active');
    }
  }

  function ubahBahasa(lang) {
    setSiteSettings('bahasa', lang);
    location.reload();
  }

  function tampilkanBahasa(lang) {
    const teks1 = document.getElementById("teks1");
    const teks2 = document.getElementById("teks2");
    const linkText = document.getElementById("linkText");

    if (lang === "en") {
      teks1.innerText = "Welcome to our library!";
      teks2.innerText = "Discover a wide collection of books to support your learning. This website collaborates with the USU Library to enhance information services, expand access to knowledge, and provide greater benefits to the public.";
      linkText.innerHTML = `<a href="https://library.usu.ac.id/" target="_blank">Click here to visit USU Library</a>`;
    } else {
      teks1.innerText = "Selamat datang di perpustakaan kami!";
      teks2.innerText = "Temukan berbagai koleksi buku untuk mendukung pembelajaran Anda. Website ini berkolaborasi dengan Perpustakaan USU dengan tujuan meningkatkan layanan informasi, memperluas akses pengetahuan, dan memberikan manfaat yang lebih luas bagi masyarakat.";
      linkText.innerHTML = `<a href="https://library.usu.ac.id/" target="_blank">Klik di sini untuk mengunjungi Perpustakaan USU</a>`;
    }

    highlightLanguageButton(lang);
  }

  function handleSearchSubmit(e) {
    e.preventDefault();
    const keyword = document.getElementById("globalSearch").value.trim().toLowerCase();
    const hasilDiv = document.getElementById("hasilPencarian");

    if (!keyword) {
      hasilDiv.innerHTML = "<span style='color:red;'>Silakan masukkan kata kunci terlebih dahulu.</span>";
      return;
    }

    if (["kontak", "contact", "hubungi", "kontact"].includes(keyword)) {
      window.location.href = "contact.html";
    } else if (["biodata", "tentang", "about"].includes(keyword)) {
      window.location.href = "about-me.html";
    } else if (["buku", "event", "rekomendasi"].includes(keyword)) {
      window.location.href = "rekomendasi.html";
    } else {
      if (hasilDiv) {
        hasilDiv.innerHTML = `Hasil pencarian untuk: <strong>${keyword}</strong><br><em>(Fitur pencarian lanjutan masih dalam pengembangan)</em>`;
      } else {
        window.location.href = "hasil.html?query=" + encodeURIComponent(keyword);
      }
    }
  }

  window.onload = function () {
    let settings = getSiteSettings();

    if (!settings.nama) {
      const nama = prompt("Halo, siapa nama Anda?");
      if (nama) {
        setSiteSettings("nama", nama);
      }
    }

    if (!settings.bahasa) {
      setSiteSettings("bahasa", "id");
      settings.bahasa = "id";
    }

    tampilkanBahasa(settings.bahasa);

    const form = document.getElementById("searchForm");
    if (form) {
      form.addEventListener("submit", handleSearchSubmit);
    }

    // ANIMASI: Tambahkan buku jatuh
    for (let i = 0; i < 20; i++) {
      const buku = document.createElement("div");
      buku.className = "buku-jatuh";
      buku.textContent = "ðŸ“š";
      buku.style.left = Math.random() * window.innerWidth + "px";
      buku.style.animationDuration = (3 + Math.random() * 5) + "s";
      buku.style.fontSize = (20 + Math.random() * 15) + "px";
      document.body.appendChild(buku);
    }
  };
</script>

</body>
</html>
